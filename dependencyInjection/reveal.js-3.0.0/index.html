<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Dependency Injection</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Dependency Injection</h1>
					<h3>Actor Model</h3>
				</section>

				<section>
					<h2>Sample case</h2>
										<pre><code data-trim contenteditable>
function Base() {
	this.doesStuff = function () { }
}

function Child() {
  var baseInstance = new Base(); // tight coupling

  this.doesOtherStuffToo = function () {
  	// does stuff

  	baseInstance.doesStuff();
  }
}
					</code></pre>
				</section>

				<section>
					<section>
						<h1>Solution?</h1>
						<pre><code data-trim contenteditable>
function Base() {
	this.doesStuff = function () { }
}

function Child( baseClassInstance ) {
  var baseInstance = baseClassInstance // still tight?

  this.doesOtherStuffToo = function () {
  	// does stuff

  	baseInstance.doesStuff();
  }
}
					</code></pre>
					</section>
					<section>
						<h2>Duuhhh...</h2>
					</section>
					<section>
						<h2>Solution in Typed Languages</h2>
						<pre><code data-trim contenteditable>
interface iBase {
	virtual void doesStuff(); //something along those lines
}

class Base implements iBase{
	public void doesStuff() { /* implements virtual method*/ }
}

class Child {
	Child( iBase ) {
	 this.base = iBase
	}
	// etc.
}
child = new Child( new Base() );
					</code></pre>
					</section>

					<section>
					<p>
						We get that free in JS and it's kind'a cool... kind'a
					</p>
				</section>
				</section>

				<section>
					<h2>Inversion of Control(IoC)</h2>
					<p class="fragment grow">
						describes a design in which custom-written components in a program receive a flow of control from a generic reusable library
					</p>
				</section>

				<section>
					<img src="http://extreme.pcgameshardware.de/attachments/64628d1232648381-fallout-3-das-uberlebenshandbuch-terminal-hacken_4.jpg">
				</section>

				<section>
					<img src="http://fribly.com/wp-content/uploads/2013/02/Ruthenium-GUI-Kit.jpg">
				</section>

				<section>
					<p>Some design patterns that follow the inversion control principles:</p>
					<ul>
						<li>software frameworks</li>
						<li>callbacks</li>
						<li>schedulers</li>
						<li>events</li>
						<li>loops</li>
						<li class="fragment grow">dependency injection      &lt- what are talking about</li>
					</ul>
				</section>

				<section>
					<p>
						Design pattern in which one or more dependencies are
						passed by reference into a dependent object and are made part of the client's state.
						The pattern separates the creation of a client's dependencies from its own behavior.
					</p>
				</section>

				<section>
					<ul>
					<li>
						<a href="http://programmers.stackexchange.com/questions/177649/what-is-constructor-injection">Constructor Injection</a>
					</li>
					<li>
						<a href="http://symfony.com/doc/current/components/dependency_injection/types.html">Setter Injection</a>
					</li>
					<li>
						<a href="">Property Injection</a>
					</li>
					<li>
						<a href="">Interface Injection</a>
					</li>
					<li>
						<a href="">Constructor Injection</a>
					</li>

					</ul>
				</section>

				<section>
					<pre><code>
// Service setter interface.
public interface ServiceSetter {
    public void setService(Service service);
}

// Client class
public class Client implements ServiceSetter {
    // Internal reference to the service used by this client.
    private Service service;

    // Set the service that this client is to use.
    @Override
    public void setService(Service service) {
        this.service = service;
    }
}
					</code></pre>
				</section>

				<section>
					Word for the Assembly file used with an Injector
				</section>

				<section>
					<h1>Overall...</h1>
					<p class="fragment grow">
						stackoverflow quote: "Dependency Injection" is a 25-dollar term for a 5-cent concept.
					</p>
				</section>

				<section>
					<h1>Advantages</h1>
					<ul>
						<li class="fragment fade-in">Adding new functionality to legacy code (refactoring)</li>
						<li class="fragment fade-in">Better unit testing in isolation</li>
						<li class="fragment fade-in">Reusability</li>
						<li class="fragment fade-in">Can be used to externalise systems' configurations in config files(build/dev/live)</li>
						<li class="fragment fade-in">Reduction of repetitive code</li>
						<li class="fragment fade-in">Concurrent development of code ( two or more developers can work smultaniously on a functionality)</li>
						<li class="fragment fade-in">Loose coupling</li>
					</ul>
				</section>

				<section>
					<h1>Disadvantages</h1>
					<ul>
						<li class="fragment fade-in">Hard debugging</li>
						<li class="fragment fade-in">Diminishes encapsulation by requiring knowledge of the component's dependencies</li>
					</ul>
				</section>

				<section data-background="#fff">
					<h1>How it's done in Angular</h1>
					<img src="http://www.w3schools.com/angular/pic_angular.jpg">
				</section>

				<section>
					<h2>From Documentation 1.x</h2>
					<p> Three (Annotation-wise) ways to do DI in angular </p>
					<aside class="notes">
						* The component can create the dependency, typically using the new operator.
						* The component can look up the dependency, by referring to a global variable.
						* The component can have the dependency passed to it where it is needed.

						First 2 are not optimal because they hard code the dependency to the component. This makes it difficult, if not impossible, to modify the dependencies. This is especially problematic in tests, where it is often desirable to provide mock dependencies for test isolation.
					</aside>
				</section>

				<section>
					<pre><code>
someModule.controller('MyController',
['$scope', 'greeter', function($scope, greeter) {

}])
					</code></pre>
				</section>

				<section>
					<pre><code>
var MyController = function($scope, greeter) {

}

MyController.$inject = ['$scope', 'greeter'];
someModule.controller('MyController', MyController);

					</code></pre>
				</section>

				<section>
					<pre><code>
someModule.controller('MyController', function($scope, greeter) {

});
					</code></pre>
				</section>

				<section>
					<p>And where the injector fits in the picture?</p>
					<img src="https://docs.angularjs.org/img/guide/concepts-module-injector.png">
				</section>

				<section>
					<pre><code>
// Provide the wiring information in a module
var myModule = angular.module('myModule', []);
					</code></pre>
				</section>

				<section>
					<pre><code>
// Teach the injector how to build a greeter service.
myModule.factory('greeter', function($window) {
  return {
    greet: function(text) {
      $window.alert(text);
    }
  };
});
					</code></pre>
				</section>

				<section>
					<pre><code>
/*
Create an injector that can provide components defined in module.
Request our greeter service from the injector. (This is usually
done automatically by angular bootstrap).
*/
var injector = angular.injector(['myModule', 'ng']);
var greeter = injector.get('greeter');
					</code></pre>
				</section>

				<section>
					<p>The solution to LoD problem</p>
					<pre><code>
<div ng-controller="MyController">
  <button ng-click="sayHello()">Hello</button>
</div>
function MyController($scope, greeter) {
  $scope.sayHello = function() {
    greeter.greet('Hello World');
  };
}
					</code></pre>
				</section>

				<section>
					<p>"Note: Angular uses constructor injection"</p>
					<p class="fragment fade-in">GJ Angular people!</p>
				</section>

				<section id="themes">
					<h2>Themes</h2>
					<p>
						reveal.js comes with a few themes built in: <br>
						<!-- Hacks to swap themes after the page has loaded. Not flexible and only intended for the reveal.js demo deck. -->
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/black.css'); return false;">Black (default)</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/white.css'); return false;">White</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/league.css'); return false;">League</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/sky.css'); return false;">Sky</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/beige.css'); return false;">Beige</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/simple.css'); return false;">Simple</a> <br>
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/serif.css'); return false;">Serif</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/night.css'); return false;">Night</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/moon.css'); return false;">Moon</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/solarized.css'); return false;">Solarized</a>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
